-- add constraint with table create and then satisfy it with table alter in a transaction.
-- fails with an error now but can be supported in the future
drop table if exists foo
drop table if exists bar
create table foo { schema { int a } keys { "donut" = a } }$$
begin
create table bar { schema { int a } keys { "a" = a } constraints { "a" -> "foo":"a" on delete cascade } }$$
alter table foo { schema { int a } keys { "a" = a } }$$
commit
